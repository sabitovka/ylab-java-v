# Домашнее задание №2

## Тема: JDBC. Миграции БД

Необходимо обновить сервис, который вы разработали в первом задании согласно следующим требованиям и ограничениям

### Требования:

- Репозитории теперь должны писать ВСЕ сущности в БД PostgreSQL
- Идентификаторы при сохранении в БД должны выдаваться через sequence
- DDL-скрипты на создание таблиц и скрипты на предзаполнение таблиц должны выполняться только инструментом миграции Liquibase
- Скрипты миграции Luiqbase должны быть написаны в нотации XML или YAML
- Скриптов миграции должно быть несколько. Как минимум один на создание всех таблиц, другой - на предзаполнение данными
- Служебные таблицы должны быть в отдельной схеме
- Таблицы сущностей хранить в схеме public запрещено
- В тестах необходимо использовать test-containers
- В приложении должен быть docker-compose.yml, в котором должны быть прописаны инструкции для развертывания postgre в докере. Логин, пароль и база должны быть отличными от тех, что прописаны в образе по-умолчанию. Приложение должно работать с БД, развернутой в докере с указанными параметрами.
- Приложение должно поддерживать конфиг-файлы. Всё, что относится к подключению БД, а также к миграциям, должно быть сконфигурировано через конфиг-файл.

### Запуск
Убедитесь, что у вас установлены следующие компоненты:

- Oracle Java 17
- Apache Maven 3.9.8

1. Клонируйте репозиторий и перейдите в папку домашнего задания 2
   ```shell
   git clone https://github.com/sabitovka/ylab-java-v.git && cd ylab-java-v
   cd homework_2
   ```
2. Поднимите контейнер c базой данных PostgreSQL
   ```shell
   docker-compose up -d
   ```
3. Скомпилируйте проект с помощью Maven
   ```shell
   mvn clean compile
   ```
4. Запустите приложение
   ```shell
   mvn exec:java
   ```

По-умолчанию в системе зарегистрировано 3 пользователя. Вы можете выполнить вход со следующими параметрами или зарегистрировать нового пользователя

| Имя   | Логин             | Пароль        |
|-------|-------------------|---------------|
| admin | admin@ylab.ru     | admin123      |
| ivan  | ivan@example.com  | ivanpassword  |
| maria | maria@example.com | mariapassword |
